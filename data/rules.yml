version: "3.1"

rules:
- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Say hello when user greets
  steps:
  - intent: greet
  - action: utter_greet

- rule: Handle thank you
  steps:
  - intent: thankyou
  - action: utter_thankyou

- rule: Ask for location if missing during selling flow
  conditions:
  - slot_was_set:
    - customer_needs: "selling"
  - slot_was_set:
    - location: null
  steps:
  - intent: provide_energy_usage
  - action: utter_ask_location

- rule: Ask for energy usage if missing during selling flow
  conditions:
  - slot_was_set:
    - customer_needs: "selling"
  - slot_was_set:
    - energy_usage: null
  steps:
  - intent: provide_location
  - action: utter_ask_energy_usage

- rule: Handle out of scope questions
  steps:
  - intent: out_of_scope
  - action: utter_out_of_scope

- rule: Provide benefits when asked
  steps:
  - intent: ask_benefits
  - action: utter_benefits

- rule: Provide pricing when asked
  steps:
  - intent: ask_price
  - action: utter_price_range

- rule: Provide types when asked
  steps:
  - intent: ask_types
  - action: utter_types_panels

- rule: Provide installation info when asked
  steps:
  - intent: ask_installation
  - action: utter_installation_process

- rule: Provide maintenance info when asked
  steps:
  - intent: ask_maintenance
  - action: utter_maintenance

- rule: Provide financing info when asked
  steps:
  - intent: ask_financing
  - action: utter_financing_options

- rule: Provide warranty info when asked
  steps:
  - intent: ask_warranty
  - action: utter_warranty